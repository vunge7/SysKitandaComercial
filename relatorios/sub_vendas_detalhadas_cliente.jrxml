<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report8" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="2" bottomMargin="2" uuid="14a5c603-3910-4354-a13b-9ffd737cdff8">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="PARM_COD_VENDA" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     tb_item_venda.`quantidade` AS tb_item_venda_quantidade,
     tb_item_venda.`valor_iva` AS tb_item_venda_valor_iva,
     tb_item_venda.`motivo_isensao` AS tb_item_venda_motivo_isensao,
     tb_item_venda.`desconto` AS tb_item_venda_desconto,
     tb_item_venda.`total` AS tb_item_venda_total,
     tb_item_venda.`codigo_produto` AS tb_item_venda_codigo_produto,
     tb_item_venda.`codigo_isensao` AS tb_item_venda_codigo_isensao,
     tb_item_venda.`codigo_venda` AS tb_item_venda_codigo_venda,
     tb_preco.`preco_venda` AS tb_preco_preco_venda,
     tb_produto.`designacao` AS tb_produto_designacao,
     tb_produto.`codigo` AS tb_produto_codigo,
     tb_lugares.`designacao` AS tb_lugares_designacao,
     tb_mesas.`designacao` AS tb_mesas_designacao,
     tb_venda.`codigo` AS tb_venda_codigo,
     tb_venda.`total_venda` AS tb_venda_total_venda,
     tb_venda.`valor_entregue` AS tb_venda_valor_entregue,
     tb_venda.`troco` AS tb_venda_troco,
     tb_venda.`hora` AS tb_venda_hora,
     tb_venda.`nome_cliente` AS tb_venda_nome_cliente,
     tb_venda.`desconto_total` AS tb_venda_desconto_total,
     tb_venda.`total_iva` AS tb_venda_total_iva,
     tb_venda.`total_geral` AS tb_venda_total_geral,
     tb_venda.`cod_fact` AS tb_venda_cod_fact,
     tb_venda.`total_por_extenso` AS tb_venda_total_por_extenso,
     tb_venda.`desconto_comercial` AS tb_venda_desconto_comercial,
     tb_venda.`desconto_financeiro` AS tb_venda_desconto_financeiro,
     tb_venda.`total_incidencia` AS tb_venda_total_incidencia,
     tb_venda.`total_incidencia_isento` AS tb_venda_total_incidencia_isento,
     tb_cliente.`nome` AS tb_cliente_nome
FROM
     `tb_preco` tb_preco INNER JOIN `tb_item_venda` tb_item_venda ON tb_preco.`pk_preco` = tb_item_venda.`fk_preco`
     INNER JOIN `tb_produto` tb_produto ON tb_item_venda.`codigo_produto` = tb_produto.`codigo`
     INNER JOIN `tb_lugares` tb_lugares ON tb_item_venda.`fk_lugares` = tb_lugares.`pk_lugares`
     INNER JOIN `tb_mesas` tb_mesas ON tb_item_venda.`fk_mesas` = tb_mesas.`pk_mesas`
     INNER JOIN `tb_venda` tb_venda ON tb_item_venda.`codigo_venda` = tb_venda.`codigo`
     INNER JOIN `tb_cliente` tb_cliente ON tb_venda.`codigo_cliente` = tb_cliente.`codigo`
WHERE
     tb_venda.`codigo` = $P{PARM_COD_VENDA}]]>
	</queryString>
	<field name="tb_item_venda_quantidade" class="java.lang.Long"/>
	<field name="tb_item_venda_valor_iva" class="java.lang.Double"/>
	<field name="tb_item_venda_motivo_isensao" class="java.lang.String"/>
	<field name="tb_item_venda_desconto" class="java.lang.Double"/>
	<field name="tb_item_venda_total" class="java.lang.Double"/>
	<field name="tb_item_venda_codigo_produto" class="java.lang.Integer"/>
	<field name="tb_item_venda_codigo_isensao" class="java.lang.String"/>
	<field name="tb_item_venda_codigo_venda" class="java.lang.Integer"/>
	<field name="tb_preco_preco_venda" class="java.lang.Double"/>
	<field name="tb_produto_designacao" class="java.lang.String"/>
	<field name="tb_produto_codigo" class="java.lang.Integer"/>
	<field name="tb_lugares_designacao" class="java.lang.String"/>
	<field name="tb_mesas_designacao" class="java.lang.String"/>
	<field name="tb_venda_codigo" class="java.lang.Integer"/>
	<field name="tb_venda_total_venda" class="java.lang.Float"/>
	<field name="tb_venda_valor_entregue" class="java.lang.Double"/>
	<field name="tb_venda_troco" class="java.lang.Double"/>
	<field name="tb_venda_hora" class="java.sql.Time"/>
	<field name="tb_venda_nome_cliente" class="java.lang.String"/>
	<field name="tb_venda_desconto_total" class="java.lang.Double"/>
	<field name="tb_venda_total_iva" class="java.lang.Double"/>
	<field name="tb_venda_total_geral" class="java.lang.Double"/>
	<field name="tb_venda_cod_fact" class="java.lang.String"/>
	<field name="tb_venda_total_por_extenso" class="java.lang.String"/>
	<field name="tb_venda_desconto_comercial" class="java.lang.Double"/>
	<field name="tb_venda_desconto_financeiro" class="java.lang.Double"/>
	<field name="tb_venda_total_incidencia" class="java.lang.Double"/>
	<field name="tb_venda_total_incidencia_isento" class="java.lang.Double"/>
	<field name="tb_cliente_nome" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="15">
			<staticText>
				<reportElement uuid="b0dfe68f-9fad-4924-aa8b-fd8d07aca1be" x="0" y="0" width="56" height="13"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<text><![CDATA[Doc. Nº:]]></text>
			</staticText>
			<textField>
				<reportElement uuid="48fd5603-0067-4d14-b9c4-042042ff2bd9" x="57" y="0" width="73" height="13"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_venda_cod_fact}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="11" splitType="Stretch">
			<staticText>
				<reportElement uuid="38210da6-1b36-4d32-bd46-29181ada0b8a" x="82" y="0" width="171" height="11"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[Designação do Produto]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="b2b44f46-0699-442e-b88c-91dbb96f80f7" x="253" y="0" width="74" height="11"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[P.U]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="5fa85f61-dc71-4238-bc40-ea711e1c25a4" x="56" y="0" width="26" height="11"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[Qtd]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="b006bfe9-5188-403c-969d-56e372e83e41" x="429" y="0" width="107" height="11"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[SubTotal]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e65c524b-4661-4e88-a619-29ea2009d7bf" x="386" y="0" width="43" height="11"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[IVA]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7e90ba9e-957f-4cb0-862c-63710a407090" x="327" y="0" width="59" height="11"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[Desconto]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="12" splitType="Stretch">
			<textField>
				<reportElement uuid="25e2d02b-0599-4561-bf5e-bc64769a1f50" x="82" y="0" width="171" height="12"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_produto_designacao}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="96d6a283-2508-464b-a9bd-6aaf779408f5" x="56" y="0" width="26" height="12"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_item_venda_quantidade}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="6fd9830a-6c1e-44a8-b163-6a350ee42904" x="253" y="0" width="74" height="12"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_preco_preco_venda}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="54336972-d8a9-4a4b-9778-7efc5db01640" x="429" y="0" width="107" height="12"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_item_venda_total}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="a5e1a3e3-9875-43eb-98ad-54aa6d6dc8b2" x="386" y="0" width="43" height="12"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_item_venda_valor_iva}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="9764df42-c4e2-4f5c-a91c-df5ca2f9f051" x="327" y="0" width="59" height="12"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_item_venda_desconto}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="13">
			<staticText>
				<reportElement uuid="c876f1d3-2b71-4f95-95c5-dfc3dac9359b" x="386" y="0" width="43" height="12"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement uuid="1ff470f6-aa7e-4471-9085-10d955373c5f" x="429" y="0" width="108" height="12"/>
				<box rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_venda_total_venda}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
