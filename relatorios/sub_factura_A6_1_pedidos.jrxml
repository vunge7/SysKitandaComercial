<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="factura_A5_1" pageWidth="200" pageHeight="450" columnWidth="180" leftMargin="10" rightMargin="10" topMargin="2" bottomMargin="0" uuid="0f9fb78e-446c-4f21-90a6-218352fa8ee4">
	<property name="ireport.zoom" value="3.897434200000004"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="CODIGO_VENDA" class="java.lang.Integer"/>
	<parameter name="PARM_MESA" class="java.lang.Long"/>
	<parameter name="PARM_LUGAR" class="java.lang.Long"/>
	<queryString>
		<![CDATA[SELECT
     tb_produto.`designacao` AS tb_produto_designacao,
     tb_item_venda.`total` AS tb_item_venda_total,
     tb_venda.`total_venda` AS tb_venda_total_venda,
     tb_produto.`codigo` AS tb_produto_codigo,
tb_item_venda.`quantidade` as tb_item_venda_qtd,
     SUM(tb_item_venda.`quantidade`) AS TOTAL_QTD,
     tb_venda.`codigo` AS tb_venda_codigo,
     tb_usuario.`nome` AS tb_usuario_nome,
     tb_produto.`preco_venda` AS tb_produto_preco_venda,
     tb_venda.`troco` AS tb_venda_troco,
     tb_venda.`valor_entregue` AS tb_venda_valor_entregue,
     tb_venda.`dataVenda` AS tb_venda_dataVenda,
     tb_armazem.`codigo` AS tb_armazem_codigo,
     tb_armazem.`designacao` AS tb_armazem_designacao,
     tb_venda.`nome_cliente` AS tb_venda_nome_cliente,
     tb_venda.`hora` AS tb_venda_hora,
     tb_preco.`preco_venda` AS tb_preco_preco_venda,
     tb_lugares.`designacao` AS tb_lugares_designacao,
     tb_mesas.`designacao` AS tb_mesas_designacao,
     tb_lugares.`pk_lugares` AS tb_lugares_pk_lugares,
     tb_mesas.`pk_mesas` AS tb_mesas_pk_mesas
FROM
     `tb_produto` tb_produto INNER JOIN `tb_item_venda` tb_item_venda ON tb_produto.`codigo` = tb_item_venda.`codigo_produto`
     INNER JOIN `tb_venda` tb_venda ON tb_item_venda.`codigo_venda` = tb_venda.`codigo`
     INNER JOIN `tb_preco` tb_preco ON tb_item_venda.`fk_preco` = tb_preco.`pk_preco`
     INNER JOIN `tb_lugares` tb_lugares ON tb_item_venda.`fk_lugares` = tb_lugares.`pk_lugares`
     INNER JOIN `tb_mesas` tb_mesas ON tb_item_venda.`fk_mesas` = tb_mesas.`pk_mesas`
     INNER JOIN `tb_usuario` tb_usuario ON tb_venda.`codigo_usuario` = tb_usuario.`codigo`
     INNER JOIN `tb_armazem` tb_armazem ON tb_venda.`idArmazemFK` = tb_armazem.`codigo`
WHERE
     tb_venda.`codigo` = $P{CODIGO_VENDA}
 AND tb_mesas.`pk_mesas` = $P{PARM_MESA}
 AND tb_lugares.`pk_lugares` = $P{PARM_LUGAR}
GROUP BY tb_produto.`codigo`]]>
	</queryString>
	<field name="tb_produto_designacao" class="java.lang.String"/>
	<field name="tb_item_venda_total" class="java.lang.Double"/>
	<field name="tb_venda_total_venda" class="java.lang.Float"/>
	<field name="tb_produto_codigo" class="java.lang.Integer"/>
	<field name="tb_item_venda_qtd" class="java.lang.Long"/>
	<field name="TOTAL_QTD" class="java.lang.Integer"/>
	<field name="tb_venda_codigo" class="java.lang.Integer"/>
	<field name="tb_usuario_nome" class="java.lang.String"/>
	<field name="tb_produto_preco_venda" class="java.lang.Double"/>
	<field name="tb_venda_troco" class="java.lang.Double"/>
	<field name="tb_venda_valor_entregue" class="java.lang.Double"/>
	<field name="tb_venda_dataVenda" class="java.sql.Date"/>
	<field name="tb_armazem_codigo" class="java.lang.Long"/>
	<field name="tb_armazem_designacao" class="java.lang.String"/>
	<field name="tb_venda_nome_cliente" class="java.lang.String"/>
	<field name="tb_venda_hora" class="java.sql.Time"/>
	<field name="tb_preco_preco_venda" class="java.lang.Double"/>
	<field name="tb_lugares_designacao" class="java.lang.String"/>
	<field name="tb_mesas_designacao" class="java.lang.String"/>
	<field name="tb_lugares_pk_lugares" class="java.lang.Long"/>
	<field name="tb_mesas_pk_mesas" class="java.lang.Long"/>
	<variable name="TOTAL" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{TOTAL_QTD}*$F{tb_preco_preco_venda}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="14" splitType="Stretch">
			<textField isBlankWhenNull="false">
				<reportElement uuid="5d7157c8-72af-4da3-8c8d-ef323951b04d" key="textField-11" x="1" y="2" width="144" height="12"/>
				<box topPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true" isItalic="false" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_lugares_designacao}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="13" splitType="Stretch">
			<staticText>
				<reportElement uuid="4119c069-06b2-490d-84cd-a6a707b978ea" key="element-93" x="19" y="1" width="74" height="12" forecolor="#000000"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Produto]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="f36abb85-9408-41a5-adcb-f41c2c916496" key="element-91" x="1" y="1" width="18" height="12" forecolor="#000000"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[N.ยบ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="5c2a4c35-ddc8-479e-9ada-4a8b18f8d582" key="element-95" x="120" y="1" width="20" height="12" forecolor="#000000"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Qtd.]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="c0a1cb72-ed94-4427-88f3-be2d504247a7" key="element-93" x="93" y="1" width="27" height="12" forecolor="#000000"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[PUnit.]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="cc91af74-6f49-49c9-bb52-c72c292f71fd" key="element-96" x="140" y="1" width="40" height="12" forecolor="#000000"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Valor]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="11" splitType="Stretch">
			<textField isBlankWhenNull="false">
				<reportElement uuid="3ae16394-8a8d-401b-8b08-1245fa87c15c" key="textField-12" x="1" y="0" width="18" height="11"/>
				<box>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="false">
				<reportElement uuid="8066541f-b01f-41ff-a6ae-1e724e63ac56" key="textField-17" x="120" y="0" width="20" height="11"/>
				<box>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{TOTAL_QTD}]]></textFieldExpression>
			</textField>
			<textField pattern="###0.00" isBlankWhenNull="true">
				<reportElement uuid="51474143-f6c2-470b-82ef-3a660f60a6da" key="textField-18" x="140" y="0" width="40" height="11"/>
				<box>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_item_venda_total}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="c90dae22-4d43-430c-8f2b-2f035f7f319d" key="textField-15" x="19" y="0" width="74" height="11"/>
				<box>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_produto_designacao}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="6a288d68-cb20-4110-b2c8-be2352c18be8" key="textField-15" x="93" y="0" width="27" height="11"/>
				<box>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_preco_preco_venda}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="11" splitType="Stretch">
			<textField pattern="###0.00 AKZ" isBlankWhenNull="true">
				<reportElement uuid="3b441285-7ca2-419a-a507-0ab417a74fd6" key="textField-20" x="93" y="1" width="87" height="10"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{TOTAL}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="5d092299-609f-4e8d-9875-89c2f622c95e" key="staticText-11" x="1" y="0" width="60" height="11"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="true" isItalic="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Sub Total ...:]]></text>
			</staticText>
			<line>
				<reportElement uuid="c5f76c73-2af7-4270-a34a-6bb164946187" x="0" y="0" width="180" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Double"/>
				</graphicElement>
			</line>
		</band>
	</summary>
</jasperReport>
