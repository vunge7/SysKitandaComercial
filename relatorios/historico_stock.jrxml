<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="cardex_geral" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" isSummaryWithPageHeaderAndFooter="true" uuid="0de43986-9be5-410e-aaa3-7f1419d0abca">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="2.5657905911535352"/>
	<property name="ireport.x" value="188"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="479"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="521"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="CNN_COMERCIAL"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="cliente_style" mode="Transparent" forecolor="#000000">
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{NIF_CLIENTE_CONSOMIDOR_FINAL}.equals("Consumidor Final")]]></conditionExpression>
			<style mode="Opaque" forecolor="#FFFFFF" backcolor="#FFFFFF"/>
		</conditionalStyle>
	</style>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["../relatorios/"]]></defaultValueExpression>
	</parameter>
	<parameter name="DATA_STOCK" class="java.util.Date"/>
	<parameter name="ID_ARMAZEM" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select 
	p.codigo, 
    p.codigo_manual ,
    p.designacao,
     s.quantidade as quantidade_actual,
    a.designacao  as armazem,
    d.nome,
    d.enderecos,
    d.nif,
    d.telefone,
    d.email
from  stock_diario s
INNER JOIN tb_produto p ON p.codigo = s.produto_id
inner join tb_armazem a on a.codigo = s.armazem_id
inner join tb_dados_instituicao d
where s.data_registro =  $P{DATA_STOCK}
and s.armazem_id =  $P{ID_ARMAZEM}
and s.quantidade > 0
order by p.designacao asc;]]>
	</queryString>
	<field name="codigo" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="codigo"/>
		<property name="com.jaspersoft.studio.field.label" value="codigo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_produto"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo_manual" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="codigo_manual"/>
		<property name="com.jaspersoft.studio.field.label" value="codigo_manual"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_produto"/>
	</field>
	<field name="designacao" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="designacao"/>
		<property name="com.jaspersoft.studio.field.label" value="designacao"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_produto"/>
	</field>
	<field name="quantidade_actual" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="quantidade"/>
		<property name="com.jaspersoft.studio.field.label" value="quantidade_actual"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="stock_diario"/>
	</field>
	<field name="armazem" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="designacao"/>
		<property name="com.jaspersoft.studio.field.label" value="armazem"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_armazem"/>
	</field>
	<field name="nome" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nome"/>
		<property name="com.jaspersoft.studio.field.label" value="nome"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
	</field>
	<field name="enderecos" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="enderecos"/>
		<property name="com.jaspersoft.studio.field.label" value="enderecos"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
	</field>
	<field name="nif" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nif"/>
		<property name="com.jaspersoft.studio.field.label" value="nif"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
	</field>
	<field name="telefone" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="telefone"/>
		<property name="com.jaspersoft.studio.field.label" value="telefone"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
	</field>
	<field name="email" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="email"/>
		<property name="com.jaspersoft.studio.field.label" value="email"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
	</field>
	<title>
		<band height="96">
			<textField>
				<reportElement uuid="dfedbe3a-f77e-46ab-bb27-eb771b6fc212" x="1" y="79" width="235" height="12"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Email:</b> " +$F{email}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="1e743f53-662d-45cb-8be1-a75a8ec8b5c7" x="1" y="43" width="297" height="12"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="44fad4c5-f6f5-4153-ae74-2a893fcddd4f" x="1" y="70" width="235" height="12"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Telefone:</b> " +$F{telefone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="d4728b85-4484-4de8-8d11-c9eaaf2899f1" x="1" y="52" width="297" height="12"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Endereço:</b> " +$F{enderecos}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="5ba897ce-c800-4586-af4d-5bf57db924aa" x="1" y="61" width="235" height="12"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>NIF:</b> " +$F{nif}]]></textFieldExpression>
			</textField>
			<image scaleImage="RetainShape">
				<reportElement uuid="babea246-95f5-473f-bcc9-1b6dac99cdf0" x="-10" y="-7" width="63" height="49"/>
				<imageExpression><![CDATA["../relatorios/logo_dvml.png"]]></imageExpression>
			</image>
		</band>
	</title>
	<pageHeader>
		<band height="43">
			<staticText>
				<reportElement uuid="440e2e15-bf7a-41c9-8929-a5788a121278" mode="Opaque" x="469" y="29" width="66" height="14" backcolor="#EDEDED">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="fcb4f1d9-13a6-4ce2-bf2f-f03facd52041"/>
					<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.rightIndent" value="px"/>
				</reportElement>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="8" isBold="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<text><![CDATA[Qtd ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="b5a77a7f-7f9c-49fe-abef-a94cc4f5640d" mode="Opaque" x="150" y="29" width="318" height="14" backcolor="#EDEDED">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="237dae25-43ea-42fb-89a8-bcc73008d28e"/>
					<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.rightIndent" value="px"/>
				</reportElement>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="8" isBold="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<text><![CDATA[Produto]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="7017b097-bb06-40e7-9583-8d4d0b5b66e1" mode="Opaque" x="1" y="29" width="149" height="14" backcolor="#EDEDED">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="237dae25-43ea-42fb-89a8-bcc73008d28e"/>
					<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.rightIndent" value="px"/>
				</reportElement>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="8" isBold="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<text><![CDATA[Código Manual]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="0416fbdf-5131-46d5-80f3-4507c3bdfaa8" x="150" y="1" width="224" height="28"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true" isItalic="false"/>
				</textElement>
				<text><![CDATA[STOCK DIÁRIO]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="77b6c0b1-5a14-4523-a8e2-19aa215eb430" x="467" y="0" width="68" height="10"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isItalic="true"/>
				</textElement>
				<text><![CDATA[Stock do Dia:]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy">
				<reportElement uuid="392ef50e-cca6-4158-8eea-ac1caa8cb157" key="element-91" x="467" y="9" width="68" height="12" forecolor="#000000"/>
				<box leftPadding="0" rightPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Top" markup="html">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{DATA_STOCK}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="107838b4-8298-43bd-a40c-ba0e0a5e8cbc" x="1" y="1" width="66" height="10"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isItalic="true"/>
				</textElement>
				<text><![CDATA[Armazém:]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy">
				<reportElement uuid="822c8916-86a5-4fd9-8ae6-4250af16d1db" key="element-91" x="1" y="10" width="66" height="12" forecolor="#000000"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{armazem}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="12" splitType="Stretch">
			<textField>
				<reportElement uuid="6fcb60fb-9f05-47ee-8ab3-f1ed5cef61ea" x="469" y="0" width="66" height="12">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="fcb4f1d9-13a6-4ce2-bf2f-f03facd52041"/>
					<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.rightIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="8" isBold="true"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{quantidade_actual}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="09458c03-76b2-4341-8cb3-4db8a20429ef" x="150" y="0" width="318" height="12">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="fcb4f1d9-13a6-4ce2-bf2f-f03facd52041"/>
					<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.rightIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="8"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{designacao}.trim()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="20582e84-0629-4bc0-9adc-d428ca72debe" x="1" y="0" width="149" height="12">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="fcb4f1d9-13a6-4ce2-bf2f-f03facd52041"/>
					<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.rightIndent" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="8"/>
					<paragraph leftIndent="5" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{codigo_manual}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="20">
			<textField>
				<reportElement uuid="aaa11ec5-96a8-458b-a62a-e1b8f6132c83" x="450" y="0" width="80" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Pág. "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement uuid="2c208733-8257-4a92-b7ae-5804312d3688" x="530" y="0" width="40" height="20"/>
				<textElement verticalAlignment="Bottom">
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="&apos;Processado pelo software Kitanda, &apos;EEEEE dd  &apos;de&apos; MMMMM &apos;de&apos; yyyy">
				<reportElement uuid="2da301f4-9ac2-4501-96e0-4d05b8938850" x="1" y="0" width="334" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="76">
			<textField evaluationTime="Report">
				<reportElement uuid="b28337ab-dfe1-4a1d-b618-801e6de05cd3" x="530" y="56" width="40" height="20"/>
				<textElement verticalAlignment="Bottom">
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="adb683d9-73d1-4b34-96c8-2ad84fe05a6a" x="450" y="56" width="80" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Pág. "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField pattern="&apos;Processado pelo software Kitanda, &apos;EEEEE dd  &apos;de&apos; MMMMM &apos;de&apos; yyyy">
				<reportElement uuid="c964cbf5-8a76-441c-887b-a5b98d57eb69" x="1" y="56" width="334" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
</jasperReport>
