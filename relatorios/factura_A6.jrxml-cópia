<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="200" pageHeight="450" columnWidth="180" leftMargin="10" rightMargin="10" topMargin="2" bottomMargin="20" uuid="0d35dc17-e438-4ad6-8e53-90104d9acc11">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="CODIGO_VENDA" class="java.lang.Integer"/>
	<parameter name="VALOR_ENTREGUE" class="java.lang.Float"/>
	<parameter name="TROCO" class="java.lang.Float"/>
	<parameter name="DESCRICAO_LOJA" class="java.lang.String"/>
	<parameter name="CREDITO" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["../relatorios/"]]></defaultValueExpression>
	</parameter>
	<parameter name="SOFTWARE_VERSION" class="java.lang.String"/>
	<parameter name="DOCUMENTO" class="java.lang.String"/>
	<parameter name="STATUS_DOCUMENTO" class="java.lang.String"/>
	<parameter name="SOFTWARE_NAME" class="java.lang.String"/>
	<parameter name="INCIDENCIA" class="java.lang.Double"/>
	<parameter name="IMPOSTO_IVA" class="java.lang.Double"/>
	<parameter name="MOTIVO_ISENCAO" class="java.lang.String"/>
	<parameter name="NIF_CLIENTE_CONSOMIDOR_FINAL" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
     tb_cliente.`nome` AS tb_cliente_nome,
     tb_produto.`designacao` AS tb_produto_designacao,
     tb_item_venda.`total` AS tb_item_venda_total,
     tb_venda.`total_venda` AS tb_venda_total_venda,
     tb_produto.`codigo` AS tb_produto_codigo,
     tb_item_venda.`quantidade` AS tb_item_venda_qauntidade,
     tb_venda.`codigo` AS tb_venda_codigo,
     tb_usuario.`nome` AS tb_usuario_nome,
     tb_dados_instituicao.`nome` AS tb_dados_instituicao_nome,
     tb_dados_instituicao.`telefone` AS tb_dados_instituicao_telefone,
     tb_dados_instituicao.`enderecos` AS tb_dados_instituicao_enderecos,
     tb_dados_instituicao.`email` AS tb_dados_instituicao_email,
     tb_produto.`preco_venda` AS tb_produto_preco_venda,
     tb_venda.`troco` AS tb_venda_troco,
     tb_venda.`valor_entregue` AS tb_venda_valor_entregue,
     tb_venda.`dataVenda` AS tb_venda_dataVenda,
     tb_dados_instituicao.`nif` AS tb_dados_instituicao_nif,
     tb_armazem.`codigo` AS tb_armazem_codigo,
     tb_armazem.`designacao` AS tb_armazem_designacao,
     tb_venda.`nome_cliente` AS tb_venda_nome_cliente,
     tb_venda.`hora` AS tb_venda_hora,
     tb_preco.`preco_venda` AS tb_preco_preco_venda,
     tb_venda.`desconto_total` AS tb_venda_desconto_total,
     tb_venda.`total_geral` AS tb_venda_total_geral,
     tb_cliente.`morada` AS tb_cliente_morada,
     tb_cliente.`telefone` AS tb_cliente_telefone,
     tb_cliente.`nif` AS tb_cliente_nif,
     tb_item_venda.`valor_iva` AS tb_item_venda_valor_iva,
     tb_item_venda.`desconto` AS tb_item_venda_desconto,
     tb_venda.`cod_fact` AS tb_venda_cod_fact,
     tb_venda.`assinatura` AS tb_venda_assinatura,
     tb_venda.`obs` AS tb_venda_obs,
     tb_venda.`hash_cod` AS tb_venda_hash_cod,
     tb_venda.`total_iva` AS tb_venda_total_iva,
     tb_venda.`performance` AS tb_venda_performance,
     cambio.`pk_cambio` AS cambio_pk_cambio,
     cambio.`valor` AS cambio_valor,
     cambio.`data_hora` AS cambio_data_hora,
     cambio.`fk_moeda` AS cambio_fk_moeda,
     moeda.`pk_moeda` AS moeda_pk_moeda,
     moeda.`designacao` AS moeda_designacao,
     moeda.`abreviacao` AS moeda_abreviacao,
     tb_banco.`idBanco` AS tb_banco_idBanco,
     tb_banco.`descrisao` AS tb_banco_descrisao,
     tb_banco.`numero` AS tb_banco_numero,
     tb_banco.`saldo_banco` AS tb_banco_saldo_banco,
     tb_venda.`total_por_extenso` AS tb_venda_total_por_extenso,
     ano_economico.`pk_ano_economico` AS ano_economico_pk_ano_economico,
     ano_economico.`designacao` AS ano_economico_designacao,
     ano_economico.`serie` AS ano_economico_serie,
     ano_economico.`data_inicio` AS ano_economico_data_inicio,
     ano_economico.`data_fim` AS ano_economico_data_fim,
     tb_cliente.`email` AS tb_cliente_email,
     documento.`pk_documento` AS documento_pk_documento,
     documento.`designacao` AS documento_designacao,
     documento.`abreviacao` AS documento_abreviacao,
     documento.`cod_ultimo_doc` AS documento_cod_ultimo_doc,
     documento.`descricao_ultimo_doc` AS documento_descricao_ultimo_doc,
     documento.`ultima_data` AS documento_ultima_data,
     tb_item_venda.`codigo_isensao` AS tb_item_venda_codigo_isensao,
     tb_venda.`desconto_comercial` AS tb_venda_desconto_comercial,
     tb_venda.`desconto_financeiro` AS tb_venda_desconto_financeiro,
     tb_venda.`total_incidencia` AS tb_venda_total_incidencia,
     tb_venda.`total_incidencia_isento` AS tb_venda_total_incidencia_isento
FROM
     `tb_produto` tb_produto INNER JOIN `tb_item_venda` tb_item_venda ON tb_produto.`codigo` = tb_item_venda.`codigo_produto`
     INNER JOIN `tb_venda` tb_venda ON tb_item_venda.`codigo_venda` = tb_venda.`codigo`
     INNER JOIN `tb_preco` tb_preco ON tb_item_venda.`fk_preco` = tb_preco.`pk_preco`
     INNER JOIN `tb_cliente` tb_cliente ON tb_venda.`codigo_cliente` = tb_cliente.`codigo`
     INNER JOIN `tb_usuario` tb_usuario ON tb_venda.`codigo_usuario` = tb_usuario.`codigo`
     INNER JOIN `tb_armazem` tb_armazem ON tb_venda.`idArmazemFK` = tb_armazem.`codigo`
     INNER JOIN `cambio` cambio ON tb_venda.`fk_cambio` = cambio.`pk_cambio`
     INNER JOIN `tb_banco` tb_banco ON tb_venda.`idBanco` = tb_banco.`idBanco`
     INNER JOIN `ano_economico` ano_economico ON tb_venda.`fk_ano_economico` = ano_economico.`pk_ano_economico`
     INNER JOIN `documento` documento ON tb_venda.`fk_documento` = documento.`pk_documento`
     INNER JOIN `moeda` moeda ON cambio.`fk_moeda` = moeda.`pk_moeda`,
     `tb_dados_instituicao` tb_dados_instituicao
WHERE
     tb_venda.`codigo` = $P{CODIGO_VENDA}]]>
	</queryString>
	<field name="tb_cliente_nome" class="java.lang.String"/>
	<field name="tb_produto_designacao" class="java.lang.String"/>
	<field name="tb_item_venda_total" class="java.lang.Double"/>
	<field name="tb_venda_total_venda" class="java.lang.Float"/>
	<field name="tb_produto_codigo" class="java.lang.Integer"/>
	<field name="tb_item_venda_qauntidade" class="java.lang.Long"/>
	<field name="tb_venda_codigo" class="java.lang.Integer"/>
	<field name="tb_usuario_nome" class="java.lang.String"/>
	<field name="tb_dados_instituicao_nome" class="java.lang.String"/>
	<field name="tb_dados_instituicao_telefone" class="java.lang.String"/>
	<field name="tb_dados_instituicao_enderecos" class="java.lang.String"/>
	<field name="tb_dados_instituicao_email" class="java.lang.String"/>
	<field name="tb_produto_preco_venda" class="java.lang.Double"/>
	<field name="tb_venda_troco" class="java.lang.Double"/>
	<field name="tb_venda_valor_entregue" class="java.lang.Double"/>
	<field name="tb_venda_dataVenda" class="java.sql.Timestamp"/>
	<field name="tb_dados_instituicao_nif" class="java.lang.String"/>
	<field name="tb_armazem_codigo" class="java.lang.Long"/>
	<field name="tb_armazem_designacao" class="java.lang.String"/>
	<field name="tb_venda_nome_cliente" class="java.lang.String"/>
	<field name="tb_venda_hora" class="java.sql.Time"/>
	<field name="tb_preco_preco_venda" class="java.lang.Double"/>
	<field name="tb_venda_desconto_total" class="java.lang.Double"/>
	<field name="tb_venda_total_geral" class="java.lang.Double"/>
	<field name="tb_cliente_morada" class="java.lang.String"/>
	<field name="tb_cliente_telefone" class="java.lang.String"/>
	<field name="tb_cliente_nif" class="java.lang.String"/>
	<field name="tb_item_venda_valor_iva" class="java.lang.Double"/>
	<field name="tb_item_venda_desconto" class="java.lang.Double"/>
	<field name="tb_venda_cod_fact" class="java.lang.String"/>
	<field name="tb_venda_assinatura" class="java.lang.String"/>
	<field name="tb_venda_obs" class="java.lang.String"/>
	<field name="tb_venda_hash_cod" class="java.lang.String"/>
	<field name="tb_venda_total_iva" class="java.lang.Double"/>
	<field name="tb_venda_performance" class="java.lang.String"/>
	<field name="cambio_pk_cambio" class="java.lang.Integer"/>
	<field name="cambio_valor" class="java.lang.Double"/>
	<field name="cambio_data_hora" class="java.sql.Timestamp"/>
	<field name="cambio_fk_moeda" class="java.lang.Integer"/>
	<field name="moeda_pk_moeda" class="java.lang.Integer"/>
	<field name="moeda_designacao" class="java.lang.String"/>
	<field name="moeda_abreviacao" class="java.lang.String"/>
	<field name="tb_banco_idBanco" class="java.lang.Integer"/>
	<field name="tb_banco_descrisao" class="java.lang.String"/>
	<field name="tb_banco_numero" class="java.lang.String"/>
	<field name="tb_banco_saldo_banco" class="java.lang.Double"/>
	<field name="tb_venda_total_por_extenso" class="java.lang.String"/>
	<field name="ano_economico_pk_ano_economico" class="java.lang.Integer"/>
	<field name="ano_economico_designacao" class="java.lang.String"/>
	<field name="ano_economico_serie" class="java.lang.String"/>
	<field name="ano_economico_data_inicio" class="java.sql.Date"/>
	<field name="ano_economico_data_fim" class="java.sql.Date"/>
	<field name="tb_cliente_email" class="java.lang.String"/>
	<field name="documento_pk_documento" class="java.lang.Integer"/>
	<field name="documento_designacao" class="java.lang.String"/>
	<field name="documento_abreviacao" class="java.lang.String"/>
	<field name="documento_cod_ultimo_doc" class="java.lang.Integer"/>
	<field name="documento_descricao_ultimo_doc" class="java.lang.String"/>
	<field name="documento_ultima_data" class="java.sql.Timestamp"/>
	<field name="tb_item_venda_codigo_isensao" class="java.lang.String"/>
	<field name="tb_venda_desconto_comercial" class="java.lang.Double"/>
	<field name="tb_venda_desconto_financeiro" class="java.lang.Double"/>
	<field name="tb_venda_total_incidencia" class="java.lang.Double"/>
	<field name="tb_venda_total_incidencia_isento" class="java.lang.Double"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="63" splitType="Stretch">
			<textField>
				<reportElement x="2" y="34" width="178" height="12" uuid="46d90171-a485-4bba-88ab-ba7651e78405"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>NIF:</b> " +$F{tb_dados_instituicao_nif}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="1" y="0" width="29" height="27" uuid="e85c7851-4af0-4619-8e48-9ca70f98fe65"/>
				<imageExpression><![CDATA["relatorios/logo_dvml.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement x="2" y="42" width="178" height="12" uuid="0943f978-060a-4d69-8093-c4a3ffa70de8"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Telefone:</b> " +$F{tb_dados_instituicao_telefone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="30" y="5" width="150" height="22" uuid="10172db3-0008-4146-bbfd-76b1f6087b36"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
					<font fontName="Times New Roman" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_dados_instituicao_nome}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="2" y="49" width="178" height="12" uuid="de16c22b-a6d9-46df-873b-9ec4d7c31061"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Email:</b> " +$F{tb_dados_instituicao_email}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="2" y="26" width="178" height="12" uuid="53c36671-e736-480c-ad98-a61ecc5c6466"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="7" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Endereço:</b> " +$F{tb_dados_instituicao_enderecos}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="68" splitType="Stretch">
			<textField pattern="dd-MM-yyyy">
				<reportElement key="element-95" x="67" y="15" width="48" height="13" forecolor="#000000" uuid="3a1b828c-4baf-4623-87ea-4901bf6673e9"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="Times New Roman" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_venda_dataVenda}]]></textFieldExpression>
			</textField>
			<textField pattern="HH:mm">
				<reportElement key="element-95" x="116" y="15" width="41" height="13" forecolor="#000000" uuid="e879b377-b390-41a4-a274-aa64358abb87"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font fontName="Times New Roman" size="8" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tb_venda_hora}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement key="element-96" x="-1" y="58" width="189" height="10" forecolor="#000000" uuid="55904252-c7d9-4d3f-afdc-9ec9c731bc6d"/>
				<textElement textAlignment="Right" markup="html">
					<font fontName="Times New Roman" size="8" isBold="false" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Forma de Pagamento:</b> " +$F{tb_banco_descrisao}]]></textFieldExpression>
			</textField>
			<rectangle radius="10">
				<reportElement x="0" y="2" width="180" height="55" uuid="ed3c959c-ad77-47f2-b11a-fd35a6a2879f"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</rectangle>
			<textField>
				<reportElement x="1" y="45" width="179" height="12" uuid="1aa0f716-50a9-4073-b886-3bc6fa77044f"/>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{STATUS_DOCUMENTO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="element-94" x="1" y="12" width="69" height="13" forecolor="#000000" uuid="bfe8ab93-af57-4e9d-a1d0-c6b6071505b7"/>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Times New Roman" size="8" isBold="false"/>
				</textElement>
				<text><![CDATA[Data de Emissão:]]></text>
			</staticText>
			<textField>
				<reportElement x="1" y="37" width="186" height="16" uuid="91761de9-47f4-4fa7-9d40-ad228abf2f2d"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>NIF:</b> "  +"<i>" +$P{NIF_CLIENTE_CONSOMIDOR_FINAL} +"</i>"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement key="element-91" x="1" y="5" width="186" height="10" forecolor="#000000" uuid="88b3c20b-19aa-4b46-9416-d488279ae003"/>
				<textElement markup="html">
					<font fontName="Times New Roman" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{documento_designacao} +" <b>" +$F{tb_venda_cod_fact} +"</b>"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-11" x="1" y="25" width="186" height="16" uuid="f3f4cddf-a1f7-48b9-bd97-bee80f7d3266"/>
				<box topPadding="2"/>
				<textElement verticalAlignment="Middle" markup="html">
					<font fontName="Times New Roman" size="8" isItalic="false" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Cliente:</b> " + "<i>" +$F{tb_venda_nome_cliente} +"</i>"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="10" splitType="Stretch">
			<staticText>
				<reportElement x="-1" y="0" width="100" height="10" uuid="609633fc-0843-4b46-8e70-f715a3c78fa2"/>
				<textElement>
					<font fontName="Times New Roman" size="8"/>
				</textElement>
				<text><![CDATA[Angola]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="125" splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
