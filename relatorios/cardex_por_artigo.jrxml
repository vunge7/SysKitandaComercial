<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.6.final using JasperReports Library version 6.20.6-5c96b6aa8a39ac1dc6b6bea4b81168e16dd39231  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="cardex_por_artigo" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isSummaryWithPageHeaderAndFooter="true" uuid="0de43986-9be5-410e-aaa3-7f1419d0abca">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.4483218986834407"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="479"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="521"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="CNN_COMERCIAL"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="cliente_style" mode="Transparent" forecolor="#000000">
		<conditionalStyle>
			<conditionExpression><![CDATA[$P{NIF_CLIENTE_CONSOMIDOR_FINAL}.equals("Consumidor Final")]]></conditionExpression>
			<style mode="Opaque" forecolor="#FFFFFF" backcolor="#FFFFFF"/>
		</conditionalStyle>
	</style>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["../relatorios/"]]></defaultValueExpression>
	</parameter>
	<parameter name="DATA_01" class="java.util.Date"/>
	<parameter name="DATA_02" class="java.util.Date"/>
	<parameter name="ID_PRODUTO" class="java.lang.Integer"/>
	<parameter name="ID_ARMAZEM" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select 
	m.id,
	m.tipo,
	p.codigo,
	a.designacao as armazem,
	p.designacao as artigo,
	m.documento,
	m.data_mov,
	m.quantidade_anterior,
	m.quantidade,
	quantidade_actual,
	u.nome as usuario_nome,
	d.nome  as nome,
	d.enderecos as enderecos,
	d.nif as nif,
	d.telefone as telefone,
	d.email as email
from movimentacao m
inner join tb_produto p on p.codigo = m.produto_id
inner join tb_usuario u on u.codigo = m.usuario_id
inner join tb_armazem a on a.codigo = m.armazem_id
join tb_dados_instituicao d
where  
	m.produto_id  = $P{ID_PRODUTO} and 
	m.armazem_id  = $P{ID_ARMAZEM} and
	date(m.data_mov) between  $P{DATA_01} and $P{DATA_02};]]>
	</queryString>
	<field name="id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="id"/>
		<property name="com.jaspersoft.studio.field.label" value="id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tipo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="tipo"/>
		<property name="com.jaspersoft.studio.field.label" value="tipo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="codigo"/>
		<property name="com.jaspersoft.studio.field.label" value="codigo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_produto"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="armazem" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="designacao"/>
		<property name="com.jaspersoft.studio.field.label" value="armazem"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_armazem"/>
	</field>
	<field name="artigo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="designacao"/>
		<property name="com.jaspersoft.studio.field.label" value="artigo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_produto"/>
	</field>
	<field name="documento" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="documento"/>
		<property name="com.jaspersoft.studio.field.label" value="documento"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="data_mov" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="data_mov"/>
		<property name="com.jaspersoft.studio.field.label" value="data_mov"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="quantidade_anterior" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="quantidade_anterior"/>
		<property name="com.jaspersoft.studio.field.label" value="quantidade_anterior"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="quantidade" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="quantidade"/>
		<property name="com.jaspersoft.studio.field.label" value="quantidade"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="quantidade_actual" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="quantidade_actual"/>
		<property name="com.jaspersoft.studio.field.label" value="quantidade_actual"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="movimentacao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="usuario_nome" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nome"/>
		<property name="com.jaspersoft.studio.field.label" value="usuario_nome"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_usuario"/>
	</field>
	<field name="nome" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nome"/>
		<property name="com.jaspersoft.studio.field.label" value="nome"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="enderecos" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="enderecos"/>
		<property name="com.jaspersoft.studio.field.label" value="enderecos"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nif" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nif"/>
		<property name="com.jaspersoft.studio.field.label" value="nif"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="telefone" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="telefone"/>
		<property name="com.jaspersoft.studio.field.label" value="telefone"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="email" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="email"/>
		<property name="com.jaspersoft.studio.field.label" value="email"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_dados_instituicao"/>
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band height="802" splitType="Stretch">
			<image>
				<reportElement x="37" y="267" width="528" height="407" uuid="8f3a5477-78b7-42ca-b5b5-b80c5eafa590"/>
				<imageExpression><![CDATA["relatorios/fundo.png"]]></imageExpression>
			</image>
		</band>
	</background>
	<title>
		<band height="156">
			<textField>
				<reportElement x="0" y="131" width="235" height="12" uuid="82853475-19ec-484a-a036-949cdd5bd35b"/>
				<textElement markup="html">
					<font fontName="Times New Roman"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Email:</b> " +$F{email}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="87" width="297" height="12" uuid="608569fd-08f1-46ad-bfab-b75a16a853ba"/>
				<textElement markup="html">
					<font fontName="Times New Roman" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="120" width="235" height="12" uuid="a9ba3e70-db19-420e-bdf3-27f09d6bcb77"/>
				<textElement markup="html">
					<font fontName="Times New Roman" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Telefone:</b> " +$F{telefone}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="98" width="297" height="12" uuid="442689d9-4840-4d31-92a9-c7d9dfb46603"/>
				<textElement markup="html">
					<font fontName="Times New Roman" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>Endere√ßo:</b> " +$F{enderecos}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="109" width="235" height="12" uuid="5be15091-64e8-4c95-a321-fa7fc79d18d4"/>
				<textElement markup="html">
					<font fontName="Times New Roman" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["<b>NIF:</b> " +$F{nif}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="91">
			<textField>
				<reportElement key="element-91" x="0" y="8" width="323" height="23" forecolor="#000000" uuid="07a05878-0e84-408e-b7de-b0e1e5eef0d4"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="Times New Roman" size="14" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{artigo}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="-19" y="-161" width="216" height="97" uuid="aa9cd883-fead-4701-92a6-11bfeed32d87"/>
				<imageExpression><![CDATA["relatorios/logo_dvml.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement x="424" y="3" width="80" height="12" uuid="c7fc1497-15ad-4f7c-8f40-d2f6f76fd239"/>
				<textElement textAlignment="Right" markup="html">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA["P√°g. <b>"+$V{PAGE_NUMBER}+"</b> de "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="507" y="3" width="27" height="12" uuid="17a21211-8ea2-47be-a5b3-ad55173af13e"/>
				<textElement markup="html">
					<font fontName="Arial" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[" <b>" + $V{PAGE_NUMBER} +"</b>"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="0" width="25" height="10" uuid="1a130c5e-3341-40c3-997d-f1fb8b669a16"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7" isItalic="true"/>
				</textElement>
				<text><![CDATA[Artigo:]]></text>
			</staticText>
			<textField>
				<reportElement key="element-91" x="1" y="43" width="116" height="12" forecolor="#000000" uuid="c297fbcb-7250-4c19-91ce-13011b17d48c"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="Times New Roman" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{armazem}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="32" width="36" height="10" uuid="4eb130a9-d825-48cb-b3f8-719b718b844f"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7" isItalic="true"/>
				</textElement>
				<text><![CDATA[Armaz√©m:]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy">
				<reportElement key="element-91" x="136" y="42" width="66" height="12" forecolor="#000000" uuid="a176a3cd-9ab2-4717-8aef-2ad6c342e385"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="Times New Roman" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{DATA_01}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="136" y="33" width="36" height="10" uuid="b971dadb-10b7-4756-bd72-ac1a7a0b1a77"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7" isItalic="true"/>
				</textElement>
				<text><![CDATA[De:]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy">
				<reportElement key="element-91" x="205" y="42" width="66" height="12" forecolor="#000000" uuid="45ba1d07-6128-4f80-b1c5-c5af72d3c032"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Top" markup="html">
					<font fontName="Times New Roman" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{DATA_02}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="205" y="33" width="36" height="10" uuid="a59d5bd1-fb61-4fc6-8324-bd0e9ceb140c"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7" isItalic="true"/>
				</textElement>
				<text><![CDATA[a:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="17">
			<subreport>
				<reportElement x="0" y="0" width="555" height="17" uuid="43759e4a-1c3e-461e-898c-0788b955a6a0"/>
				<subreportParameter name="ID_PRODUTO">
					<subreportParameterExpression><![CDATA[$P{ID_PRODUTO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ID_ARMAZEM">
					<subreportParameterExpression><![CDATA[$P{ID_ARMAZEM}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DATA_02">
					<subreportParameterExpression><![CDATA[$P{DATA_02}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="DATA_01">
					<subreportParameterExpression><![CDATA[$P{DATA_01}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR"/>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "cardex.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<lastPageFooter>
		<band height="80">
			<staticText>
				<reportElement key="staticText-9" x="1" y="64" width="554" height="15" forecolor="#000000" uuid="dd2eb791-ef62-4535-beef-6f82a9b7e8da"/>
				<textElement markup="html">
					<font fontName="Times New Roman" isBold="false"/>
				</textElement>
				<text><![CDATA[Software de gest√£o comercial, desenvolvido e assistido pela DVML-COMERCIAL,Lda / Contactos: 940537124 - 923409284]]></text>
			</staticText>
		</band>
	</lastPageFooter>
</jasperReport>
